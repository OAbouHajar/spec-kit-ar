<div align="center">
    <img src="./media/logo_small.webp"/>
    <h1>🌱 حزمة المواصفات (Spec Kit)</h1>
    <h3><em>ابنِ برمجيات عالية الجودة بسرعة أعلى.</em></h3>
</div>

<p align="center">
    <strong>مقاربة تُمكّن الفرق من التركيز على سيناريوهات المنتج بدلاً من كتابة الشيفرة غير المتمايزة عبر منهجية التطوير المدفوع بالمواصفة (Spec-Driven Development).</strong>
</p>
<p align="center">
<a href="https://github.com/OAbouHajar/spec-kit-ar/actions/workflows/release.yml"><img src="https://github.com/OAbouHajar/spec-kit-ar/actions/workflows/release.yml/badge.svg" alt="Release"/></a>
</p>

---

## فهرس المحتويات

- [🤔 ما هو التطوير المدفوع بالمواصفة؟](#-ما-هو-التطوير-المدفوع-بالمواصفة)
- [⚡ الانطلاق السريع](#-الانطلاق-السريع)
- [📽️ عرض مرئي](#️-عرض-مرئي)
- [🤖 الوكلاء (AI Agents) المدعومون](#-الوكلاء-ai-agents-المدعومون)
- [🔧 مرجع أوامر Specify CLI](#-مرجع-أوامر-specify-cli)
- [📚 الفلسفة الأساسية](#-الفلسفة-الأساسية)
- [🌟 المراحل التطويرية](#-المراحل-التطويرية)
- [🎯 الأهداف التجريبية](#-الأهداف-التجريبية)
- [🔧 المتطلبات المسبقة](#-المتطلبات-المسبقة)
- [📖 تعلّم المزيد](#-تعلّم-المزيد)
- [📋 العملية التفصيلية](#-العملية-التفصيلية)
- [🔍 الاستكشاف وحل المشكلات (Troubleshooting)](#-الاستكشاف-وحل-المشكلات-troubleshooting)
- [👥 المشرفون](#-المشرفون)
- [💬 الدعم](#-الدعم)
- [🙏 الشكر والتقدير](#-الشكر-والتقدير)
- [📄 الترخيص](#-الترخيص)

## 🤔 ما هو التطوير المدفوع بالمواصفة؟

التطوير المدفوع بالمواصفة يعكس القاعدة التقليدية: تاريخياً كانت الشيفرة هي “الملك” والمواصفة مجرد سقالات مؤقتة. هنا تصبح **المواصفة كياناً قابلاً للتنفيذ** يولّد مخرجات عملية (ملفات، خطة، مهام) بدل أن تكون وثيقة نُسكنها جانباً.

الفكرة الجوهرية:
1. كتابة مواصفة غنية (ماذا ولماذا).
2. توضيح الغموض مبكراً.
3. تخطيط معماري/تقني مضبوط.
4. اشتقاق قائمة مهام تنفيذية قابلة للأتمتة.
5. تنفيذ متسلسل/متوازي مضبوط مع فحوص تغطية واتساق.
6. تحليل لاحق للتأكد من عدم الانحراف.

## ⚡ الانطلاق السريع

### 1. تثبيت أداة Specify

#### الخيار الأول (مستحسن) — تثبيت دائم:

```bash
uv tool install specify-cli --from git+https://github.com/OAbouHajar/spec-kit-ar.git
```

ثم استخدمها مباشرة:

```bash
specify init <PROJECT_NAME>
specify check
```

#### الخيار الثاني — تشغيل لمرة واحدة:

```bash
uvx --from git+https://github.com/OAbouHajar/spec-kit-ar.git specify init <PROJECT_NAME>
```

**مزايا التثبيت الدائم:**
- متاحة في PATH
- إدارة محدثة عبر: `uv tool list / upgrade / uninstall`
- تقليل الحاجة لأسماء مستعارة (aliases)

### 2. تأسيس المبادئ (الدستور)

استخدم الأمر:  
```bash
/constitution
```
لصياغة مبادئ الجودة، الاختبارات، الأداء، تجربة المستخدم… تُخزَّن في `memory/constitution.md`.

### 3. إنشاء المواصفة

استخدم:  
```bash
/specify وصف نصي واضح للميزة...
```
ركّز على (ماذا ولماذا) واترك (كيف) لمرحلة التخطيط.

### 4. إنشاء خطة التنفيذ

```bash
/plan حدد المكدس، المعمارية، القرارات التقنية...
```

### 5. توليد المهام

```bash
/tasks
```
ينتج `مهام.md` (بعد التعريب) أو سابقاً tasks.md.

### 6. التنفيذ

```bash
/implement
```
لتنفيذ جميع المهام مع احترام الاعتمادات والتوازي المسموح.

للتفاصيل الكاملة راجع: [spec-driven.md](./spec-driven.md)

## 📽️ عرض مرئي

شاهد العرض:  
[رابط الفيديو](https://www.youtube.com/watch?v=a9eR1xsfvHg&pp=0gcJCckJAYcqIYzv)

[![Spec Kit video header](/media/spec-kit-video-header.jpg)](https://www.youtube.com/watch?v=a9eR1xsfvHg&pp=0gcJCckJAYcqIYzv)

## 🤖 الوكلاء (AI Agents) المدعومون

| الوكيل | مدعوم | ملاحظات |
|--------|-------|----------|
| Claude Code | ✅ | |
| GitHub Copilot | ✅ | |
| Gemini CLI | ✅ | |
| Cursor | ✅ | |
| Qwen Code | ✅ | |
| opencode | ✅ | |
| Windsurf | ✅ | |
| Kilo Code | ✅ | |
| Auggie CLI | ✅ | |
| Roo Code | ✅ | |
| Codex CLI | ⚠️ | لا يدعم وسائط مخصصة لبعض أوامر السلاش |

## 🔧 مرجع أوامر Specify CLI

### الأوامر الرئيسية

| الأمر | الوصف |
|-------|-------|
| `init` | تهيئة مشروع جديد |
| `check` | فحص توافر الأدوات الداعمة |

### وسائط `specify init`

| الوسيط/الخيار | النوع | الوصف |
|--------------|------|-------|
| `<project-name>` | وسيط | اسم مجلد المشروع (اختياري مع `--here`) |
| `--ai` | خيار | اختيار الوكيل: claude, gemini, copilot, cursor, qwen, opencode, codex, windsurf, kilocode, auggie, roo |
| `--script` | خيار | نوع السكربت: sh أو ps |
| `--ignore-agent-tools` | علم | تخطي فحص أدوات الوكلاء |
| `--no-git` | علم | تخطي تهيئة Git |
| `--here` | علم | التثبيت في المجلد الحالي |
| `--force` | علم | الدمج القسري مع ملفات حالية |
| `--skip-tls` | علم | تخطي التحقق الأمني (غير مستحسن) |
| `--debug` | علم | إخراج تصحيح تفصيلي |
| `--github-token` | خيار | تمرير توكن GitHub |

### أمثلة

```bash
specify init مشروعي
specify init مشروعي --ai claude
specify init --here --ai copilot
specify init --here --force --ai copilot
specify init مشروعي --ai gemini --no-git
specify init مشروعي --ai claude --debug
specify init مشروعي --ai claude --github-token ghp_xxx
specify check
```

### أوامر السلاش (بعد التهيئة)

| الأمر | الوصف |
|-------|-------|
| `/constitution` | إنشاء/تحديث المبادئ الحاكمة |
| `/specify` | تحديد ما سيتم بناؤه (المتطلبات وقصص المستخدم) |
| `/clarify` | توضيح الغموض قبل التخطيط |
| `/plan` | بناء خطة تنفيذ تقنية |
| `/tasks` | توليد قائمة مهام قابلة للتنفيذ |
| `/analyze` | تحليل التغطية والاتساق بعد توليد المهام |
| `/implement` | تنفيذ المهام لبناء الميزة |

### متغيرات البيئة

| المتغير | الوصف |
|---------|-------|
| `SPECIFY_FEATURE` | تحديد الميزة الحالية في بيئات بدون Git (مثال: 001-feature-name) |

## 📚 الفلسفة الأساسية

- التركيز على **النية** قبل التنفيذ.
- المواصفة كمنبع متعدد المراحل (Clarify → Plan → Tasks → Implement → Analyze).
- تقليل إعادة العمل عبر الكشف المبكر للغموض.
- دمج مبادئ تنظيمية (الدستور) لضبط الجودة والاتساق.

## 🌟 المراحل التطويرية

| المرحلة | التركيز | أنشطة |
|---------|---------|-------|
| الانطلاق من الصفر (Greenfield) | توليد شامل | إنشاء مواصفة، خطة، مهام، تنفيذ |
| الاستكشاف الإبداعي | حلول متعددة متوازية | مقارنة أطر/معماريات |
| التحسين التكراري | تحديث/تطوير | إضافة ميزات، صيانة، حداثة تقنية |

## 🎯 الأهداف التجريبية

1. استقلالية التقنية: دعم مكدسات متعددة.  
2. قيود المؤسسات: امتثال، ممارسات هندسية، قياس.  
3. ارتباط المستخدم: قصص / سيناريوهات واقعية.  
4. الإبداع والتكرار: السماح بالمقارنة والتحسين السريع.

## 🔧 المتطلبات المسبقة

- Linux / macOS (أو WSL2)
- Python 3.11+
- Git
- أداة uv
- وكيل AI مدعوم

## 🔄 تخصيص مصدر القوالب (SPEC_KIT_REPO)

بشكل افتراضي تم ضبط أداة CLI الآن لتحميل القوالب من الـ fork العربي:
```
SPEC_KIT_REPO=OAbouHajar/spec-kit-ar
```
يمكنك تغيير المصدر في أي وقت قبل تشغيل `specify init`:

### العودة للمستودع الأصلي (الإنجليزي)
```bash
export SPEC_KIT_REPO=github/spec-kit
uvx --from git+https://github.com/OAbouHajar/spec-kit-ar.git specify init مشروعي
```

### فرض استخدام الـ fork العربي (حالة fallback)
(هذا هو الوضع الافتراضي، تعيينه صريحاً اختيارياً)
```bash
export SPEC_KIT_REPO=OAbouHajar/spec-kit-ar
```

### في بيئة Windows (PowerShell)
```powershell
$env:SPEC_KIT_REPO="OAbouHajar/spec-kit-ar"
specify init مشروعي
```

### آلية التحميل
1. يحاول جلب آخر إصدار (Release) من المستودع المحدد.
2. يطابق اسم الأصل (Asset) وفق النمط:
   ```
   spec-kit-template-<ai>-<script>.zip
   ```
3. إن لم يجد أصولاً مناسبة يقوم بمسار بديل (Fallback):
   - استنساخ سطحي للمستودع (`--depth 1`)
   - تعبئة أرشيف مؤقت بالقوالب (templates / scripts / memory ...)
   - المتابعة دون إصدار منشور.

### لماذا قد لا ترى التعريب؟
- لم تُنشَر أصول Releases في الـ fork بعد → سيعمل fallback لكن قد تكون القوالب غير محدثة.
- استخدمت المستودع الأصلي (`github/spec-kit`) الذي يحتوي النسخة الإنجليزية.
- بيئة لم تُمرر المتغير (وتريد القالب العربي).

تحقق سريع:
```bash
echo $SPEC_KIT_REPO
```

## 📖 تعلّم المزيد

- المنهجية الكاملة: [spec-driven.md](./spec-driven.md)

---

## 📋 العملية التفصيلية (موجز)

1. `/constitution` صياغة المبادئ.  
2. `/specify` كتابة المواصفة (ماذا ولماذا).  
3. `/clarify` إزالة الغموض.  
4. `/plan` توليد خطة ومعمارية ووثائق فرعية (بحث، نموذج بيانات، عقود...).  
5. `/tasks` اشتقاق مهام قابلة للتنفيذ.  
6. `/analyze` فحص تغطية/اتساق قبل التنفيذ.  
7. `/implement` تنفيذ منضبط (اعتمادات + توازي مضبوط).  

(انظر المستند الأصلي للفقرات الشارحة إن رغبت بالإنجليزية: الملف spec-driven.md ما زال مرجعاً تقنياً.)

## 🔍 الاستكشاف وحل المشكلات (Troubleshooting)

### مشكلة اعتماد Git

تحقق من:
```bash
git --version
```
وحدّث إعدادات الاعتماد (Credential Manager) عند الحاجة.

### غياب ملف متوقع

- مفقود `مواصفة.md` → أعد `/specify`
- مفقود `تخطيط.md` → شغّل `/plan`
- مفقود `مهام.md` → شغّل `/tasks`
- تحذير Clarifications غائبة → أعد `/clarify`

### تعارض أو بناء ناقص

نفّذ `/analyze` قبل `/implement` لضبط التغطية.

## 👥 المشرفون

- Den Delimarsky ([@localden](https://github.com/localden))
- John Lam ([@jflam](https://github.com/jflam))

## 💬 الدعم

افتح تذكرة:  
https://github.com/OAbouHajar/spec-kit-ar/issues/new

## 🙏 الشكر والتقدير

المشروع متأثر بأبحاث وعمل [John Lam](https://github.com/jflam).

## 📄 الترخيص

مرخّص وفق MIT. راجع ملف [LICENSE](./LICENSE).
